---
page_title: Audit Trails - API Docs - Terraform Cloud
description: >-
  Use the `/organization/audit-trail` endpoint to query audit events. Get a list of an organization's audit events for the past 14 days using the HTTP API.
tfc_only: true
---

[200]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200

[201]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/201

[202]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/202

[204]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/204

[400]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400

[401]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401

[403]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403

[404]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

[409]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/409

[412]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/412

[422]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/422

[429]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429

[500]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500

[504]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/504

[JSON API document]: /terraform/cloud-docs/api-docs#json-api-documents

[JSON API error object]: https://jsonapi.org/format/#error-objects

# Audit Trails API

Terraform Cloud retains 14 days of audit log information. The audit trails API exposes a stream of audit events, which describe changes to the application entities (workspaces, runs, etc.) that belong to a Terraform Cloud organization. Unlike other APIs, the Audit Trails API does not use the [JSON API specification](/terraform/cloud-docs/api-docs#json-api-formatting).

<!-- BEGIN: TFC:only name:pnp-callout -->
@include 'tfc-package-callouts/audit-trails.mdx'
<!-- END: TFC:only name:pnp-callout -->

## List an organization's audit events

`GET /organization/audit-trail`

-> **Note:** This endpoint cannot be accessed with a [user token](/terraform/cloud-docs/users-teams-organizations/users#api-tokens) or [team token](/terraform/cloud-docs/users-teams-organizations/api-tokens#team-api-tokens). You must access it with an [organization token](/terraform/cloud-docs/users-teams-organizations/api-tokens#organization-api-tokens).

### Query Parameters

[These are standard URL query parameters](/terraform/cloud-docs/api-docs#query-parameters). Remember to percent-encode `[` as `%5B` and `]` as `%5D` if your tooling doesn't automatically encode URLs.

| Parameter      | Description                                                                                                                                                                      |
| -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `since`        | **Optional.** Returns only audit trails created after this date (UTC and in [ISO8601 Format](https://www.iso.org/iso-8601-date-and-time-format.html) - YYYY-MM-DDTHH:MM:SS.SSSZ) |
| `page[number]` | **Optional.** If omitted, the endpoint will return the first page.                                                                                                               |
| `page[size]`   | **Optional.** If omitted, the endpoint will return 1000 audit events per page.                                                                                                   |

### Sample Request

```shell
$ curl \
  --header "Authorization: Bearer $TOKEN" \
  --request GET \
  "https://app.terraform.io/api/v2/organization/audit-trail?page[number]=1&since=2020-05-30T17:52:46.000Z"
```

### Sample Response

```json
{
  "data": [
    {
      "id": "ae66e491-db59-457c-8445-9c908ee726ae",
      "version": "0",
      "type": "Resource",
      "timestamp": "2020-06-30T17:52:46.000Z",
      "auth": {
        "accessor_id": "user-MaPuLxAXvtq2PWTH",
        "description": "pveverka",
        "type": "Client",
        "impersonator_id": null,
        "organization_id": "org-AGLwRmx1snv34Yts"
      },
      "request": {
        "id": "4df584d4-7e2a-01e6-6cc0-4adbefa020e6"
      },
      "resource": {
        "id": "at-sjt83qTw3GZatuPm",
        "type": "authentication_token",
        "action": "create",
        "meta": null
      }
    }
  ],
  "pagination": {
    "current_page": 1,
    "prev_page": null,
    "next_page": 2,
    "total_pages": 8,
    "total_count": 778
  }
}
```

## Standard Response Schema

Every audit log event included the in the response array includes the following standard fields:

| Key                    | Description                                                 |
| ---------------------- | ----------------------------------------------------------- |
| `id`                   | The ID of this audit trail (UUID format)                    |
| `version`              | The audit trail schema version                              |
| `type`                 | The type of audit trail (defaults to `Resource`)            |
| `timestamp`            | UTC ISO8601 DateTime (e.g. `2020-06-16T20:26:58.000Z`)      |
| `auth.accessor_id`     | The ID of audited actor (e.g. `user-V3R563qtJNcExAkN`)      |
| `auth.description`     | Username of audited actor                                   |
| `auth.type`            | Authentication Type (one of Client, Impersonated or System) |
| `auth.impersonator_id` | The ID of impersonating actor (if available)                |
| `auth.organization_id` | The ID of organization (e.g. `org-QpXoEnULx3r2r1CA`)        |
| `request.id`           | The ID for request (if available) (UUID format)             |
| `resource.id`          | The ID of resource (e.g. `run-FwnENkvDnrpyFC7M`)            |
| `resource.type`        | Type of resource (e.g. `run`)                               |
| `resource.action`      | Action audited (e.g. `applied`)                             |
| `resource.meta`        | Key-value metadata about this audited event                 |

The following audit trail events _only_ contain these standard fields:

| Event                      | Action                                                       | Description                                                |
|----------------------------|--------------------------------------------------------------|------------------------------------------------------------|
| `agent`                    | `destroy`                                                    | Logged when an agent is destroyed.                         |
| `authentication_token`     | `create`, `show`, `destroy`                                 | Events related to authentication tokens.                  |
| `configuration_version`    | `show`, `download`                                           | Events related to configuration versions.                 |
| `notification_configuration` | `create`, `update`, `destroy`, `enable`                     | Events related to notification configurations.            |
| `oauth_client`             | `create`, `update`, `destroy`                                | Events related to OAuth clients.                           |
| `oauth_token`              | `index`, `show`, `update`, `destroy`                        | Events related to OAuth tokens.                            |
| `organization`             | `create`, `update`, `destroy`                               | Events related to organizations.                           |
| `organization_user`        | `create`, `update`, `destroy`                               | Events related to organization users.                      |
| `policy`                   | `update`, `destroy`                                          | Events related to policies.                                |
| `policy_check`             | `override`                                                   | Events related to policy checks.                           |
| `policy_config`            | `create`                                                     | Events related to policy configurations.                  |
| `policy_set`               | `destroy`                                                    | Events related to policy sets.                             |
| `policy_version`           | `create`                                                     | Events related to policy versions.                         |
| `project`                  | `create`, `update`, `destroy`                               | Events related to projects.                                |
| `registry_module`          | `destroy`, `update`                                          | Events related to registry modules.                        |
| `registry_provider`        | `create`, `destroy`                                          | Events related to registry providers.                      |
| `registry_provider_platform` | `create`, `destroy`                                          | Events related to registry provider platforms.             |
| `registry_provider_version` | `create`, `destroy`                                          | Events related to registry provider versions.             |
| `run`                      | `apply`, `cancel`, `force_cancel`, `discard`, `force_execute`, `create` | Events related to runs.                                    |
| `run_trigger`              | `create`, `destroy`                                          | Events related to run triggers.                            |
| `saml_configuration`       | `create`, `update`, `destroy`, `enable`, `disable`          | Events related to SAML configurations.                    |
| `ssh_key`                  | `index`, `show`, `create`, `update`, `destroy`              | Events related to SSH keys.                                |

The following sections list the audit log events containing both the standard response schema and a specific payload for each action.

### Data retention policy events

You can define [data retention policies](/terraform/cloud-docs/workspaces/settings/deletion#data-retention-policies) to help reduce object storage consumption. 

#### Destroy

A Terraform Cloud organization emits this event when it destroys a data retention policy. Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key                        | Data Type | Description                                             |
| ---                        | ---       | ---                                                     |
| `delete_older_than_n_days` | integer   | The number of days to retain data before deletion. Must be greater than 0. |
| `organization`             | string    | The organization associated with the data retention policy. |
| `organization_id`          | string    | The ID of the organization associated with the data retention policy. |

### Project events

[Projects](/terraform/cloud-docs/workspaces/organize-workspaces-with-projects) let you organize your workspaces and scope access to workspace resources.

#### Add Team

A Terraform Cloud organization emits this event when someone in your organization adds a team to a project. Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key          | Data Type | Description                           |
| ---          | ---       | ---                                   |
| `team`       | string    | The name or identifier of the team.    |
| `permissions` | string   | The permissions granted to the team.  |

#### Update Team Permissions

A Terraform Cloud organization emits this event when someone in your organization updates the permissions of a team on a project. Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key          | Data Type | Description                           |
| ---          | ---       | ---                                   |
| `team`       | string    | The name or identifier of the team.    |
| `permissions` | string   | The updated permissions for the team. |

#### Remove Team

A Terraform Cloud organization emits this event when someone in your organization removes a team from a project. Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key          | Data Type | Description                           |
| ---          | ---       | ---                                   |
| `team`       | string    | The name or identifier of the team.    |

### Policy checks

[Policy checks run Sentinel policies](/terraform/enterprise/policy-enforcement/manage-policy-sets). 

#### Process audit logs

A Terraform Cloud organization emits this event when processing an audit log event related to policy checks(`process_audit_log_event`). Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key                   | Data Type    | Description                                     |
| ---                   | ---          | ---                                             |
| `comment`             | string       | The comment associated with the audit log event. |
| `run.id`              | string       | The ID of the associated run.                    |
| `run.message`         | string       | The message associated with the run.            |
| `workspace.id`        | string       | The ID of the associated workspace.             |
| `workspace.name`      | string       | The name of the associated workspace.           |
| `organization`        | string       | The organization associated with the event.     |
| `resource`            | string       | The resource associated with the event.         |
| `action`              | string       | The action associated with the event.           |
| `actor`               | string       | The user who performed the action.              |
| `result`              | [Policy Result] | An array of policy results.                  |
| `passed`              | integer      | The number of passed policy checks.             |
| `total_failed`        | integer      | The total number of failed policy checks.       |
| `hard_failed`         | integer      | The number of hard failed policy checks.        |
| `soft_failed`         | integer      | The number of soft failed policy checks.        |
| `advisory_failed`     | integer      | The number of advisory failed policy checks.    |
| `duration_ms`         | integer      | The duration of the policy check in milliseconds. |
| `sentinel`            | string       | Sentinel information associated with the policy check. |

### Policy evaluation

[Policy evaluations](/terraform/enterprise/policy-enforcement/manage-policy-sets) run in the Terraform Cloud Agent in Terraform Cloud's infrastructure.

#### Process audit logs

A Terraform Cloud organization emits this event when processing an audit log event related to policy evaluations(`process_audit_log_event`). Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key                   | Data Type    | Description                                     |
| ---                   | ---          | ---                                             |
| `action`              | string       | The action associated with the audit log event.  |
| `actor`               | string       | The user who performed the action.              |
| `include_result`      | boolean      | Indicates whether to include the policy result in the payload. |
| `comment`             | string       | The comment associated with the audit log event. |
| `payload.workspace`   | object       | Information about the associated workspace.     |
| `payload.workspace.id` | string       | The ID of the associated workspace.             |
| `payload.workspace.name` | string     | The name of the associated workspace.           |
| `payload.run`         | object       | Information about the associated run.           |
| `payload.run.id`      | string       | The ID of the associated run.                    |
| `payload.run.message` | string       | The message associated with the run.            |

### Registry module events

[Terraform Cloud's private registry](/terraform/cloud-docs/registry) lets you share Terraform providers and Terraform modules across your organization.

#### Destroy version

A Terraform Cloud organization emits this event when someone in your organization destroys a specific version of a registry module. Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key       | Data Type | Description                                      |
| ---       | ---       | ---                                              |
| `version` | integer   | The version number of the registry module to destroy. |

### Run task events

Terraform Cloud [run tasks](/terraform/cloud-docs/workspaces/settings/run-tasks) let you directly integrate third-party tools and services at certain stages in the Terraform Cloud run lifecycle. 

#### Callback

A Terraform Cloud organization emits this event when a [run task](/terraform/cloud-docs/workspaces/settings/run-tasks) result's (`task_result`) `callback` action occurs. Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key                          | Data Type          | Description                                               |
| ---                          | ---                | ---                                                       |
| `task_result_status`         | string             | The status of the task result.                            |
| `task_result_url`            | string             | The URL associated with the task result.                 |
| `task_result_message`        | string             | A message associated with the task result.               |
| `workspace`                  | string             | The workspace related to the task result.                |
| `workspace_id`               | string             | The ID of the workspace related to the task result.       |
| `run_id`                     | string             | The ID of the run associated with the task result.        |
| `run_created_at`             | date (iso8601)     | The timestamp when the run was created.                   |
| `run_created_by`             | string             | The user who created the run.                            |
| `run_message`                | string             | The message associated with the run.                     |
| `run_is_speculative`         | boolean            | Indicates whether the run is speculative or not.         |
| `workspace_task_id`          | string             | The ID of the workspace task associated with the result.  |
| `workspace_task_stage`       | string             | The stage of the workspace task.                          |
| `workspace_task_enforcement` | string             | The enforcement level of the workspace task.             |
| `organization_task`          | string             | The organization task related to the task result.        |
| `organization_task_id`       | string             | The ID of the organization task related to the result.    |
| `organization_task_url`      | string             | The URL associated with the organization task.           |


#### Create

A Terraform Cloud organization emits this event when someone in your organization creates a run task for a workspace (`workspace_task`). Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key                      | Data Type    | Description                     |
| ---                      | ---          | ---                             |
| `task_enforcement_level` | string       | The task's enforcement level.    |
| `task_stage`             | string       | The stage of the task.           |
| `workspace`              | string       | The workspace associated with the task. |
| `workspace_id`           | string       | The ID of the workspace.         |
| `organization_task`      | string       | The organization's task.         |
| `organization_task_id`   | string       | The ID of the organization's task.|

#### Update

A Terraform Cloud organization emits this event when someone in your organization updates a run task for a workspace (`workspace_task`). Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key                      | Data Type    | Description                     |
| ---                      | ---          | ---                             |
| `task_enforcement_level` | string       | The task's enforcement level.    |
| `task_stage`             | string       | The stage of the task.           |
| `workspace`              | string       | The workspace associated with the task. |
| `workspace_id`           | string       | The ID of the workspace.         |
| `organization_task`      | string       | The organization's task.         |
| `organization_task_id`   | string       | The ID of the organization's task.|

#### Destroy

A Terraform Cloud organization emits this event when someone in your organization destroys a run task for a workspace (`workspace_task`). Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key                      | Data Type    | Description                     |
| ---                      | ---          | ---                             |
| `task_enforcement_level` | string       | The task's enforcement level.    |
| `task_stage`             | string       | The stage of the task.           |
| `workspace`              | string       | The workspace associated with the task. |
| `workspace_id`           | string       | The ID of the workspace.         |
| `organization_task`      | string       | The organization's task.         |
| `organization_task_id`   | string       | The ID of the organization's task.|

### Task events

TODO: Description of what a task is.

#### Create

A Terraform Cloud organization emits this event when someone in your organization creates a task. Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key                   | Data Type    | Description                                               |
| ---                   | ---          | ---                                                       |
| `task_name`           | string       | The name of the task.                                     |
| `task_category`       | string       | The task's category |
| `task_url`            | string       | The task's URL.                         |
| `task_enabled`        | boolean      | Indicates whether the task is enabled or not.            |
| `task_hmac_key_present` | boolean    | Specifies if an HMAC key is present for the task.         |


#### Destroy

A Terraform Cloud organization emits this event when someone in your organization destroys a task. Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key                   | Data Type    | Description                                               |
| ---                   | ---          | ---                                                       |
| `task_name`           | string       | The name of the task to be destroyed.                    |
| `task_category`       | string       | The category of the task to be destroyed.                |
| `task_url`            | string       | The URL associated with the task to be destroyed.        |
| `task_enabled`        | boolean      | Indicates whether the task to be destroyed is enabled.   |
| `task_hmac_key_present` | boolean    | Specifies if an HMAC key is present for the task to be destroyed. |


#### Update

A Terraform Cloud organization emits this event when someone in your organization updates a task. Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key                   | Data Type    | Description                                               |
| ---                   | ---          | ---                                                       |
| `task_name`           | string       | The name of the task to be updated.                       |
| `task_category`       | string       | The updated category of the task.                         |
| `task_url`            | string       | The updated URL associated with the task.                |
| `task_enabled`        | boolean      | Indicates whether the task is enabled after the update.  |
| `task_hmac_key_present` | boolean    | Specifies if an HMAC key is present for the updated task. |
| `task_hmac_key_changed` | boolean    | Indicates whether the HMAC key for the task has changed during the update. |

### Team events

Teams are [groups of Terraform Cloud users within an organization](terraform/cloud-docs/users-teams-organizations/teams). 

#### Add Member

A Terraform Cloud organization emits this event when someone in your organization adds a member to a team. Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key      | Data Type | Description         |
| ---      | ---       | ---                 |
| `user`   | string    | The user being added to the team. |

#### Remove Member

A Terraform Cloud organization emits this event when someone in your organization removes a member from a team. Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key      | Data Type | Description         |
| ---      | ---       | ---                 |
| `user`   | string    | The user being removed from the team. |

### Workspace comment events

[Workspace comments](/terraform/cloud-docs/api-docs/comments) allow users to leave feedback or record decisions about a run.

#### Create

A Terraform Cloud organization emits this event when someone in your organization creates a comment on a workspace. Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key       | Data Type | Description             |
| ---       | ---       | ---                     |
| `resource`| string    | The resource associated with the comment. |

### Workspace events

Terraform Cloud manages infrastructure collections with [workspaces](/terraform/cloud-docs/workspaces).

#### Add Team

A Terraform Cloud organization emits this event when someone in your organization adds a team to a workspace. Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key          | Data Type | Description                           |
| ---          | ---       | ---                                   |
| `team`       | string    | The name or identifier of the team.    |
| `permissions` | string   | The permissions granted to the team.  |

#### Update Team Permissions

A Terraform Cloud organization emits this event when someone in your organization updates the permissions of a team on a workspace. Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key          | Data Type | Description                           |
| ---          | ---       | ---                                   |
| `team`       | string    | The name or identifier of the team.    |
| `permissions` | string   | The updated permissions for the team. |

#### Remove Team

A Terraform Cloud organization emits this event when someone in your organization removes a team from a workspace. Alongside the [standard audit trail fields](#standard-response-schema), this event response includes the following fields:

| Key          | Data Type | Description                           |
| ---          | ---       | ---                                   |
| `team`       | string    | The name or identifier of the team.   |